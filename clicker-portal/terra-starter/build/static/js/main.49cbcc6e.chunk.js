(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{117:function(e,t){},322:function(e){e.exports=JSON.parse('{"localterra":{"counter":{"codeId":"1","contractAddresses":{"default":"terra18vd8fpwxzck93qlwghaj6arh4p7c5n896xzem5"}},"clicker":{"codeId":"5","contractAddresses":{"default":"terra1plju286nnfj3z54wgcggd4enwaa9fgf5kgrgzl"}}},"testnet":{"clicker":{"codeId":"66430","contractAddresses":{"default":"terra1v2q68563k9sw94utjxej2wrxlmyq568yl45jg4"}}}}')},325:function(e,t,n){},445:function(e,t){},447:function(e,t){},457:function(e,t){},459:function(e,t){},472:function(e,t){},474:function(e,t){},559:function(e,t){},561:function(e,t){},570:function(e,t){},612:function(e,t,n){},613:function(e,t,n){},614:function(e,t,n){"use strict";n.r(t);var c=n(21),r=(n(325),n(42)),a=n(3),s=function(){var e=Object(r.d)(),t=Object(c.a)({},e).terraAddress;return Object(a.jsx)("div",{children:t&&Object(a.jsx)("button",{className:"wallet-address",children:t.slice(0,5)+"..."+t.slice(-4)})})},i=n(65),o=[{name:"Play",link:"/play"},{name:"Leaderboard",link:"/leaderboard"},{name:"How to play",link:"/guide"}],l=function(){return Object(a.jsx)("div",{className:"game-menu",children:o.map((function(e,t){var n=e.name,c=e.link;return Object(a.jsx)(i.b,{to:c,className:"menu-item",children:Object(a.jsx)("span",{className:"item-text",children:n})},t)}))})};var j=function(){var e=Object(r.e)(),t=e.status,n=e.connect,c=e.disconnect,i=e.availableConnectTypes;return console.log("Wallet status is ",t),console.log("Available connection types:",i),Object(a.jsxs)("main",{className:"App",children:[Object(a.jsxs)("header",{children:[Object(a.jsxs)("div",{className:"header-titles",children:[Object(a.jsx)("h1",{children:"\u2694 Goblin War \u2694"}),Object(a.jsx)("p",{children:"Only you can save us from Goblin town"})]}),Object(a.jsx)(s,{})]}),t===r.b.WALLET_NOT_CONNECTED&&Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:"https://media.giphy.com/media/B19AYwNXoXtcs/giphy.gif",alt:"Goblin gif"})}),t===r.b.WALLET_CONNECTED&&Object(a.jsx)("div",{className:"game-menu-container",children:Object(a.jsx)(l,{})}),t===r.b.WALLET_NOT_CONNECTED?Object(a.jsx)("div",{className:"connect-wallet-div",children:Object(a.jsx)("button",{type:"button",onClick:function(){return n("EXTENSION")},className:"cta-button connect-wallet-button",children:"Connect wallet"},"connect-EXTENSION")}):t===r.b.WALLET_CONNECTED?Object(a.jsx)("button",{type:"button",onClick:function(){return c()},className:"cta-button connect-wallet-button",children:"Disconnect"}):void 0]})},u=n(1),d=n.n(u),b=n(321),h=n.n(b),O=n(17),x=(n(612),n(7)),f=n(19),p=n(0),m=n.n(p),v=n(24),w=n(322),g=function(e){return w[e.network.name].clicker.contractAddresses.default},N=function(e){return new Promise((function(t){return setTimeout(t,e)}))},k=Date.now()+36e5,y=Date.now()+6e4,E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new v.Fee(2e5,{uluna:1e4});return function(){var n=Object(x.a)(m.a.mark((function n(c){var r,a,s;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new v.LCDClient({URL:c.network.lcd,chainID:c.network.chainID}),n.next=3,c.post({fee:t,msgs:[new v.MsgExecuteContract(c.walletAddress,g(c),e)]});case 3:a=n.sent,s=a.result;case 5:return n.prev=6,n.next=9,r.tx.txInfo(s.txhash);case 9:return n.abrupt("return",n.sent);case 12:if(n.prev=12,n.t0=n.catch(6),!(Date.now()<y)){n.next=19;break}return n.next=17,N(500);case 17:n.next=25;break;case 19:if(!(Date.now()<k)){n.next=24;break}return n.next=22,N(1e4);case 22:n.next=25;break;case 24:throw new Error("Transaction queued. To verify the status, please check the transaction hash: ".concat(s.txhash));case 25:n.next=5;break;case 27:case"end":return n.stop()}}),n,null,[[6,12]])})));return function(e){return n.apply(this,arguments)}}()},C=function(){var e=Object(x.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E({upsert_score:{score:n}})(t));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=(n(613),function(){return Object(a.jsxs)("div",{className:"lds-ring",children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]})}),A=function(){var e=Object(r.d)(),t=Object(u.useState)(15),n=Object(f.a)(t,2),s=n[0],i=n[1],o=Object(u.useState)(!1),l=Object(f.a)(o,2),j=(l[0],l[1],Object(u.useState)({top:"15%",left:"50%"})),d=Object(f.a)(j,2),b=d[0],h=d[1],O=Object(u.useState)(!1),p=Object(f.a)(O,2),v=p[0],w=p[1],g=Object(u.useState)(0),N=Object(f.a)(g,2),k=N[0],y=N[1];Object(u.useEffect)((function(){var e=setInterval((function(){i((function(e){return e>0?e-1:0}))}),1e3);return e}),[]),Object(u.useEffect)((function(){0===s&&(h({display:"none"}),alert("Game Over! Your score is ".concat(k,". Please confirm transaction to submit score.")),E())}),[s]);var E=function(){var t=Object(x.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||"testnet"!==e.network.name){t.next=9;break}return w(!0),t.next=4,C(e,k);case 4:n=t.sent,console.log(n),alert("Score submitted!"),w(!1),window.location.href="/leaderboard";case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"score-board-container",children:[Object(a.jsxs)("div",{className:"play-container",children:[Object(a.jsxs)("span",{children:["Score: ",k]}),Object(a.jsx)("span",{children:"Fight!"}),Object(a.jsxs)("span",{children:["Time left: ",s," s"]})]}),v?Object(a.jsx)(T,{}):Object(a.jsxs)("div",{className:"game-container",children:[Object(a.jsx)("img",{src:"pepe.png",id:"target",alt:"Target",style:Object(c.a)({},b),onClick:function(){var e=new Audio("/Zergling_explodes.mp3");e.volume=.2,e.play(),y((function(e){return e+1})),h({top:"".concat(Math.floor(80*Math.random()),"%"),left:"".concat(Math.floor(80*Math.random()),"%")})}}),Object(a.jsx)("img",{src:"Marine.png",id:"marine-img",alt:"Marine"})]})]})},S=function(){return Object(a.jsxs)("main",{className:"App",children:[Object(a.jsxs)("header",{children:[Object(a.jsx)(i.b,{to:"/",className:"home-link",children:Object(a.jsxs)("div",{className:"header-titles",children:[Object(a.jsx)("h1",{children:"\u2694 Goblin War \u2694\ufe0f"}),Object(a.jsx)("p",{children:"Only you can save us from Goblin town"})]})}),Object(a.jsx)(s,{})]}),Object(a.jsxs)("div",{className:"score-board-container",children:[Object(a.jsx)("h3",{children:"How to play"}),Object(a.jsx)("div",{children:Object(a.jsx)("span",{className:"help",children:"Click as many goblins as you can within 15 seconds!"})})]})]})},D=function(){var e=Object(x.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Contract address is ",g(t)),n=new v.LCDClient({URL:t.network.lcd,chainID:t.network.chainID}),e.abrupt("return",n.wasm.contractQuery(g(t),{get_scores:{}}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(u.useState)(),t=Object(f.a)(e,2),n=t[0],c=t[1],o=Object(u.useState)(!0),l=Object(f.a)(o,2),j=l[0],d=l[1],b=Object(r.d)();Object(u.useEffect)((function(){d(!0);var e=function(){var e=Object(x.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b||"testnet"!==b.network.name){e.next=4;break}return e.next=3,D(b);case 3:return e.abrupt("return",e.sent.scores);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().then((function(e){c(e),d(!1)}))}),[b]);return Object(a.jsxs)("main",{className:"App",children:[Object(a.jsxs)("header",{children:[Object(a.jsx)(i.b,{to:"/",className:"home-link",children:Object(a.jsxs)("div",{className:"header-titles",children:[Object(a.jsx)("h1",{children:"\u2694 Goblin War \u2694\ufe0f"}),Object(a.jsx)("p",{children:"Only you can save us from Goblin town"})]})}),Object(a.jsx)(s,{})]}),Object(a.jsxs)("div",{className:"score-board-container",children:[Object(a.jsx)("h3",{children:"Scoreboard"}),j?Object(a.jsx)("div",{children:"Loading..."}):function(e){return!e||e.length<1?Object(a.jsx)("div",{children:" No scores available :( "}):e.map((function(e,t){return Object(a.jsx)("div",{className:"score",children:Object(a.jsxs)("span",{children:[e[0].slice(0,5)+"..."+e[0].slice(-4),":"," ",e[1].toString().padStart(2,"0")]})},t)}))}(n),Object(a.jsx)("div",{})]})]})},I="_buildspace",_="https://twitter.com/".concat(I);Object(r.c)().then((function(e){h.a.render(Object(a.jsx)(d.a.StrictMode,{children:Object(a.jsx)(r.a,Object(c.a)(Object(c.a)({},e),{},{children:Object(a.jsxs)("div",{className:"App-header",children:[Object(a.jsx)(i.a,{children:Object(a.jsxs)(O.c,{children:[Object(a.jsx)(O.a,{path:"/",element:Object(a.jsx)(j,{})}),Object(a.jsx)(O.a,{path:"/play",element:Object(a.jsx)(A,{})}),Object(a.jsx)(O.a,{path:"/leaderboard",element:Object(a.jsx)(L,{})}),Object(a.jsx)(O.a,{path:"/guide",element:Object(a.jsx)(S,{})})]})}),Object(a.jsxs)("div",{className:"footer-container",children:[Object(a.jsx)("img",{alt:"Twitter Logo",className:"twitter-logo",src:"/twitter-logo.svg"}),Object(a.jsx)("a",{className:"footer-text",href:_,target:"_blank",rel:"noreferrer",children:"Made with @".concat(I)})]})]})}))}),document.getElementById("root"))}))}},[[614,1,2]]]);
//# sourceMappingURL=main.49cbcc6e.chunk.js.map